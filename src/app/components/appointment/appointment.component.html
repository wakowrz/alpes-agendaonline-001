<div class="container fadeIn userFormContainer">
  <div class="card border-0">
    <div class="card-body">
      <div class="row">
        <div class="col text-center icon-border-reserva">
          <div class="col">
            <img
              class="img-fluid icon-btn"
              src="{{ imgEspecialidad }}"
              alt="icono Profesional"
            />
          </div>
          <span
            class="title-info-new font-size-36 font-family-Semibold color-blue text-center"
            ><b>{{ objectToSend["nombre_especialidad"] }} </b></span
          >
          <br /><span
            class="title-info-new font-size-30 font-family-Light color-gris"
            >{{ objectToSend["detalle_especialidad"] }}</span
          >
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-center text-center bd-highlight mb-2">
    <div class="p-2 bd-highlight">
      <img
        class="icon-btn2"
        (click)="prevButton()"
        src="/assets/icons/bx-chevron-left-circle.png"
        alt="atras"
      />
    </div>
    <div
      class="p-2 bd-highlight"
      *ngIf="
        listCarruel.length != 0 &&
          listCarruel[selectItem].mesInicio === listCarruel[1].mesFinal;
        else mes
      "
    >
      <span
        class="text-center title-info-new font-size-18 font-family-Regular color-blue"
        >{{ listCarruel[selectItem].mesInicio }}
        {{ listCarruel[selectItem].annoIncio }}</span
      ><br />
      <span
        class="text-center title-info-new font-size-20 font-family-Light color-gris"
        >Semana del {{ listCarruel[selectItem].diaIncio }} al
        {{ listCarruel[1].diaFinal }}</span
      >
    </div>

    <ng-template #mes>
      <div
        class="p-2 bd-highlight"
        *ngIf="
          listCarruel.length != 0 &&
            listCarruel[selectItem].annoIncio === listCarruel[1].annoFinal;
          else anno
        "
      >
        <span
          class="text-center title-info-new font-size-18 font-family-Regular color-blue"
          >{{ listCarruel[selectItem].mesInicio }} -
          {{ listCarruel[1].mesFinal }}
          {{ listCarruel[selectItem].annoIncio }}</span
        ><br />
        <span
          class="text-center title-info-new font-size-20 font-family-Light color-gris"
          >Semana del {{ listCarruel[selectItem].diaIncio }} al
          {{ listCarruel[1].diaFinal }}</span
        >
      </div>
    </ng-template>
    <ng-template #anno>
      <div class="p-2 bd-highlight" *ngIf="listCarruel.length != 0">
        <span
          class="text-center title-info-new font-size-18 font-family-Regular color-blue"
          >{{ listCarruel[selectItem].mesInicio }}
          {{ listCarruel[1].annoIncio }} -
          {{ listCarruel[selectItem].mesFinal }}
          {{ listCarruel[1].annoFinal }}</span
        ><br />
        <span
          class="text-center title-info-new font-size-20 font-family-Light color-gris"
          >Semana del {{ listCarruel[selectItem].diaIncio }} al
          {{ listCarruel[1].diaFinal }}</span
        >
      </div>
    </ng-template>
    <div class="p-2 bd-highlight">
      <img
        class="icon-btn2"
        (click)="nextButton()"
        src="/assets/icons/bx-chevron-right-circle.png"
        alt="adelante"
      />
    </div>
  </div>

  <div
    class="mt-4 d-flex justify-content-center bd-highlight"
    *ngIf="listCarruel.length != 0"
  >
    <div
      class="p-2 bd-highlight"
      *ngFor="let fecha of listCarruel[selectItem].fecha; let i = index"
    >
      <div class="d-flex flex-row justify-content-center">
        <span
          class="title-info-new font-size-14 font-family-Regular color-gris"
          >{{ fecha.nomDia }}</span
        >
      </div>

      <div class="d-flex flex-row justify-content-center">
        <button
          class="btn-custom-badge-2"
          id="{{ fecha.fecha }}"
          [disabled]="fecha['doctor'].length == 0"
          (click)="daySelectButton(fecha.fecha)"
        >
          <span
            class=""
            [ngClass]="
              fecha['doctor'].length != 0
                ? 'title-info-new font-size-18 font-family-Semibold color-gris ml-2'
                : 'title-info-disabled ml-2 disabled'
            "
            >{{ fecha.numDia }}</span
          >
        </button>
      </div>

      <div class="d-flex flex-row justify-content-center">
        <button
          class="btn-custom-badge-2"
          id="{{ listCarruel[1].fecha[i].fecha }}"
          [disabled]="listCarruel[1].fecha[i]['doctor'].length == 0"
          (click)="daySelectButton(listCarruel[1].fecha[i].fecha)"
        >
          <span
            class=""
            [ngClass]="
              listCarruel[1].fecha[i]['doctor'].length != 0
                ? 'title-info-new font-size-18 font-family-Semibold color-gris ml-2'
                : 'title-info-disabled ml-2 disabled'
            "
            >{{ listCarruel[1].fecha[i].numDia }}</span
          >
        </button>
      </div>
    </div>
  </div>

  <ng-container *ngFor="let offices of officesCercanas; let i = index">
    <div class="mt-4" *ngIf="isLoaded">
      <div
        class="container__agenda ng-star-inserted py-2"
        *ngIf="offices['disponible'] == false && i == 0"
      >
        <div
          *ngIf="offices['disponible'] == false && i == 0"
          class="text-clinica"
        >
          <h1
            class="title-other-office ps-4 title-info-new color-whit align-items-left text-left"
            *ngIf="offices['disponible'] == false && i == 0"
          >
            CLINICA EVEREST <br />{{
              replaceName(offices["sucursal"] | uppercase)
            }}
          </h1>
          <br />
        </div>
      </div>
      <div
        class="card custom-card2 fadeIn b-none"
        *ngIf="!offices['disponible'] && i == 0"
      >
        <div class="">
          <div class="row align-items-center">
            <div class="col">
              <div class="row">
                <div
                  class="col-12 text-center mt-1 mb-3 text-otra-sucur-clinica p-3"
                >
                  <span
                    *ngIf="isLoaded"
                    class="title-other-office title-info-no-dates font-size-33 font-family-Semibold color-red my-3 mx1"
                    ><i
                      class="fa fa-exclamation-triangle"
                      style="color: red"
                    ></i>
                    NO HAY HORAS DISPONIBLES
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="" *ngIf="offices['existe'] == 1">
      <div class="card custom-card2 fadeIn b-none" *ngIf="i == 1">
        <div class="">
          <div class="row align-items-center">
            <div class="col">
              <div class="row">
                <div
                  class="col-12 text-sm-center mb-3 text-otra-sucur-clinica p-3"
                >
                  <span
                    class="title-other-office title-info-new font-size-36 font-weight:700; color-whit"
                    >DISPONIBILIDAD OTRAS SUCURSALES</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Doc information card -->
    <div
      class="container__agenda my-4"
      *ngIf="listAgendaSelect.length > 0 && offices['disponible'] === true"
    >
      <br />
      <div *ngIf="offices['disponible'] == true" class="text-clinica">
        <h1
          class="title-other-office ps-4 title-info-new color-whit align-items-left text-left"
          *ngIf="offices['disponible'] == true"
        >
          CLINICA EVEREST <br />{{
            replaceName(offices["sucursal"] | uppercase)
          }}
        </h1>
        <br />
      </div>

      <ng-container *ngFor="let agenda of listAgendaSelect; let iA = index">
        <div
          class="card-separator"
          *ngIf="
            offices['id'] == agenda.idSucursal &&
            lineCounter(listAgendaSelect, offices) !== agenda['idDentista']
          "
        ></div>
        <div
          class="card custom-card2 fadeIn b-none"
          *ngIf="offices['id'] == agenda.idSucursal"
        >
          <div class="custom-card-header"></div>
          <div class="card-body">
            <div class="row align-items-center">
              <!-- Doc info -->
              <div class="col-md-4 pb-2">
                <div class="row">
                  <div class="col-md col-sm text-md-end text-sm-center">
                    <img
                      class=""
                      src="/assets/icons/dentist-in-blue.png"
                      alt="icono Profesional"
                    />
                  </div>
                  <div class="col text-md-start text-sm-center">
                    <span
                      class="p2 title-info-new font-size-20 font-family-Semibold color-blue"
                      >{{ agenda.nombre | titlecase }}</span
                    >
                    <br /><span
                      class="p title-info-new font-size-18 font-family-Light color-gris"
                      >{{ agenda.nombreEspecialidad }}</span
                    >
                    <br /><span
                      class="p title-info-new font-size-18 font-family-Light color-gris"
                      >{{ agenda.detalleEspecialidad }}</span
                    >
                  </div>
                </div>
              </div>

              <div class="col-md-8 col-sm">
                <!-- AM -->
                <div class="row px-4 py-0 py-lg-4" *ngIf="agenda.am">
                  <div class="col text-md-start text-sm-center">
                    <span
                      class="p2 title-info-new font-size-18 font-family-Semibold color-blue"
                      >Horario</span
                    >
                    <br />
                    <span
                      class="p2 title-info-new font-size-18 font-family-Semibold color-blue"
                      >A.M</span
                    >
                  </div>
                  <div class="col-md-9 d-flex flex-wrap bd-highlight mb-2">
                    <ng-container *ngFor="let hora of agenda.listHora">
                      <ng-container *ngIf="hora.type == 'AM'">
                        <div class="p-2 bd-highlight">
                          <button
                            class="btn-custom-badge badge"
                            id="{{ hora.hora }}-{{ hora.idDentista }}"
                            (click)="selectHora(hora)"
                          >
                            <b>{{ hora.hora }}</b>
                          </button>
                        </div>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>

                <div class="row px-4 py-0 py-lg-4" *ngIf="agenda.pm">
                  <div class="col text-md-start text-sm-center">
                    <span
                      class="p2 title-info-new font-size-18 font-family-Semibold color-blue"
                      >Horario</span
                    >
                    <br />
                    <span
                      class="p2 title-info-new font-size-18 font-family-Semibold color-blue"
                      >P.M</span
                    >
                  </div>
                  <div class="col-md-9 d-flex flex-wrap bd-highlight mb-2">
                    <ng-container *ngFor="let hora of agenda.listHora">
                      <ng-container *ngIf="hora.type == 'PM'">
                        <div class="p-2 bd-highlight">
                          <button
                            class="btn-custom-badge badge"
                            id="{{ hora.hora }}-{{ hora.idDentista }}"
                            (click)="selectHora(hora)"
                          >
                            <b>{{ hora.hora }}</b>
                          </button>
                        </div>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
</div>
